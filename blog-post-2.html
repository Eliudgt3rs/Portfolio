<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="Mastering React Hooks: A Complete Guide - DrWeb-Ke Blog" />
    <meta name="author" content="Eliud Waititu" />
    <title>Mastering React Hooks: A Complete Guide - DrWeb-Ke Blog</title>
    <!-- Favicon-->
    <link rel="icon" type="image/x-icon" href="assets\icons8-internet.gif" />
    <!-- Custom Google font-->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@100;200;300;400;500;600;700;800;900&amp;display=swap"
      rel="stylesheet"
    />
    <!-- Bootstrap icons-->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css"
      rel="stylesheet"
    />
    
    <style>
      /* Theme Variables */
      :root {
        --bg-primary: rgba(29, 28, 27, 0.945);
        --text-primary: #fff;
        --text-secondary: #333;
        --text-muted: #6c757d;
        --card-bg: rgba(255, 255, 255, 0.95);
        --card-border: rgba(255, 255, 255, 0.2);
        --theme-transition: all 0.3s ease;
        --gradient-primary: linear-gradient(135deg, #1e30f3 0%, #e21e80 100%);
      }

      [data-theme="light"] {
        --bg-primary: #f8f9fa;
        --text-primary: #333;
        --text-secondary: #666;
        --text-muted: #6c757d;
        --card-bg: rgba(255, 255, 255, 0.9);
        --card-border: rgba(0, 0, 0, 0.1);
      }

      /* Base Styling */
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: 'Plus Jakarta Sans', sans-serif;
        background-color: var(--bg-primary);
        color: var(--text-primary);
        transition: var(--theme-transition);
        line-height: 1.7;
        min-height: 100vh;
        padding: 2rem 1rem;
      }

      .container {
        max-width: 800px;
        margin: 0 auto;
        padding: 0 1rem;
      }

      /* Header Controls */
      .header-controls {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 3rem;
        padding: 1rem 0;
      }

      .back-button {
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
        background: var(--card-bg);
        color: var(--text-primary);
        text-decoration: none;
        padding: 0.75rem 1.5rem;
        border-radius: 25px;
        font-weight: 600;
        border: 1px solid var(--card-border);
        backdrop-filter: blur(10px);
        transition: all 0.3s ease;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
      }

      .back-button:hover {
        background: var(--gradient-primary);
        color: white;
        text-decoration: none;
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(30, 48, 243, 0.3);
      }

      .theme-toggle {
        background: var(--card-bg);
        border: 2px solid var(--card-border);
        border-radius: 50px;
        width: 55px;
        height: 32px;
        cursor: pointer;
        transition: var(--theme-transition);
        backdrop-filter: blur(10px);
        position: relative;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      }

      .theme-toggle:hover {
        transform: scale(1.05);
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
      }

      .theme-toggle::before {
        content: '';
        position: absolute;
        top: 2px;
        left: 2px;
        width: 24px;
        height: 24px;
        border-radius: 50%;
        background: var(--gradient-primary);
        transition: var(--theme-transition);
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
      }

      [data-theme="light"] .theme-toggle::before {
        transform: translateX(23px);
        background: linear-gradient(135deg, #ffc107 0%, #ff6b35 100%);
      }

      /* Article Styling */
      .article-container {
        background: var(--card-bg);
        border-radius: 25px;
        padding: 3rem;
        border: 1px solid var(--card-border);
        backdrop-filter: blur(10px);
        transition: var(--theme-transition);
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        margin-bottom: 2rem;
      }

      .article-header {
        text-align: center;
        margin-bottom: 3rem;
        padding-bottom: 2rem;
        border-bottom: 1px solid var(--card-border);
      }

      .article-category {
        display: inline-block;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 0.5rem 1.5rem;
        border-radius: 25px;
        font-size: 0.9rem;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 1px;
        margin-bottom: 1.5rem;
      }

      .article-title {
        font-size: 3rem;
        font-weight: 800;
        color: var(--text-secondary);
        margin-bottom: 1rem;
        line-height: 1.2;
      }

      .article-meta {
        display: flex;
        justify-content: center;
        gap: 2rem;
        color: var(--text-muted);
        font-size: 0.95rem;
        flex-wrap: wrap;
      }

      .article-meta-item {
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }

      .article-content {
        color: var(--text-secondary);
        font-size: 1.1rem;
        line-height: 1.8;
      }

      .article-content h2 {
        color: var(--text-secondary);
        font-size: 2rem;
        font-weight: 700;
        margin: 2.5rem 0 1.5rem 0;
        position: relative;
        padding-bottom: 0.5rem;
      }

      .article-content h2::after {
        content: '';
        position: absolute;
        bottom: 0;
        left: 0;
        width: 60px;
        height: 3px;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        border-radius: 2px;
      }

      .article-content h3 {
        color: var(--text-secondary);
        font-size: 1.5rem;
        font-weight: 600;
        margin: 2rem 0 1rem 0;
      }

      .article-content p {
        margin-bottom: 1.5rem;
        text-align: justify;
      }

      .article-content ul, .article-content ol {
        margin: 1.5rem 0;
        padding-left: 2rem;
      }

      .article-content li {
        margin-bottom: 0.75rem;
      }

      .article-content a {
        color: #667eea;
        text-decoration: none;
        font-weight: 600;
        transition: all 0.3s ease;
      }

      .article-content a:hover {
        color: #764ba2;
        text-decoration: underline;
      }

      .code-block {
        background: rgba(0, 0, 0, 0.1);
        border: 1px solid var(--card-border);
        border-radius: 12px;
        padding: 1.5rem;
        margin: 2rem 0;
        overflow-x: auto;
        font-family: 'Courier New', monospace;
        position: relative;
      }

      .code-block::before {
        content: 'JavaScript';
        position: absolute;
        top: 0.5rem;
        right: 1rem;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 0.25rem 0.75rem;
        border-radius: 15px;
        font-size: 0.75rem;
        font-weight: 600;
      }

      .code-block pre {
        margin: 0;
        color: var(--text-secondary);
        font-size: 0.95rem;
        line-height: 1.5;
      }

      .highlight-box {
        background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%);
        border: 1px solid rgba(102, 126, 234, 0.2);
        border-radius: 15px;
        padding: 2rem;
        margin: 2rem 0;
        position: relative;
      }

      .highlight-box::before {
        content: '⚡';
        position: absolute;
        top: 1rem;
        left: 1.5rem;
        font-size: 1.5rem;
      }

      .highlight-box p {
        margin-left: 3rem;
        font-style: italic;
        font-weight: 500;
      }

      /* Call to Action */
      .cta-section {
        background: var(--card-bg);
        border-radius: 20px;
        padding: 2.5rem;
        text-align: center;
        border: 1px solid var(--card-border);
        backdrop-filter: blur(10px);
        transition: var(--theme-transition);
      }

      .cta-section h3 {
        color: var(--text-secondary);
        font-size: 1.8rem;
        font-weight: 700;
        margin-bottom: 1rem;
      }

      .cta-section p {
        color: var(--text-muted);
        margin-bottom: 1.5rem;
      }

      .cta-button {
        display: inline-block;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        text-decoration: none;
        padding: 1rem 2.5rem;
        border-radius: 25px;
        font-weight: 600;
        transition: all 0.3s ease;
        box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
      }

      .cta-button:hover {
        transform: translateY(-2px);
        box-shadow: 0 15px 35px rgba(102, 126, 234, 0.4);
        color: white;
        text-decoration: none;
      }

      /* Responsive Design */
      @media (max-width: 768px) {
        body {
          padding: 1rem 0.5rem;
        }

        .article-container {
          padding: 2rem;
        }

        .article-title {
          font-size: 2.2rem;
        }

        .article-meta {
          flex-direction: column;
          gap: 0.5rem;
        }

        .header-controls {
          margin-bottom: 2rem;
        }

        .theme-toggle {
          width: 50px;
          height: 28px;
        }

        .theme-toggle::before {
          width: 20px;
          height: 20px;
        }

        [data-theme="light"] .theme-toggle::before {
          transform: translateX(22px);
        }

        .code-block {
          padding: 1rem;
          font-size: 0.9rem;
        }
      }

      @media (max-width: 576px) {
        .article-title {
          font-size: 1.8rem;
        }

        .article-content h2 {
          font-size: 1.6rem;
        }

        .highlight-box {
          padding: 1.5rem;
        }

        .highlight-box p {
          margin-left: 2rem;
        }
      }

      /* Animations */
      @keyframes fadeInUp {
        from {
          opacity: 0;
          transform: translateY(30px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .fade-in {
        animation: fadeInUp 0.8s ease-out;
      }
    </style>
  </head>
  <body>
    <!-- Header Controls -->
    <div class="header-controls fade-in">
      <a href="blog.html" class="back-button">
        <i class="bi bi-arrow-left"></i>
        <span>Back to Blog</span>
      </a>
      <div 
        class="theme-toggle" 
        onclick="toggleTheme()" 
        title="Toggle Theme"
        role="button"
        aria-label="Toggle dark/light theme"
        tabindex="0"
      ></div>
    </div>

    <div class="container">
      <!-- Article -->
      <article class="article-container fade-in">
        <header class="article-header">
          <div class="article-category">JavaScript</div>
          <h1 class="article-title">Mastering React Hooks: A Complete Guide</h1>
          <div class="article-meta">
            <div class="article-meta-item">
              <i class="bi bi-calendar3"></i>
              <span>January 10, 2025</span>
            </div>
            <div class="article-meta-item">
              <i class="bi bi-person-circle"></i>
              <span>Eliud Waititu</span>
            </div>
            <div class="article-meta-item">
              <i class="bi bi-clock"></i>
              <span>8 min read</span>
            </div>
          </div>
        </header>

        <div class="article-content">
          <p>
            React Hooks revolutionized how we write React applications by allowing functional components to use state and lifecycle methods. Since their introduction in React 16.8, hooks have become the preferred way to build React applications. This comprehensive guide will take you through the most important hooks and best practices for using them effectively.
          </p>

          <h2>What Are React Hooks?</h2>
          <p>
            React Hooks are functions that let you "hook into" React features from functional components. They allow you to use state and other React features without writing a class component. Hooks follow two important rules:
          </p>

          <ul>
            <li>Only call hooks at the top level of your functions</li>
            <li>Only call hooks from React functions (components or custom hooks)</li>
          </ul>

          <h2>useState: Managing Component State</h2>
          <p>
            The <code>useState</code> hook is the most fundamental hook for managing state in functional components. It returns an array with two elements: the current state value and a function to update it.
          </p>

          <div class="code-block">
            <pre>
import React, { useState } from 'react';

function Counter() {
  const [count, setCount] = useState(0);

  return (
    &lt;div&gt;
      &lt;p&gt;You clicked {count} times&lt;/p&gt;
      &lt;button onClick={() =&gt; setCount(count + 1)}&gt;
        Click me
      &lt;/button&gt;
    &lt;/div&gt;
  );
}
            </pre>
          </div>

          <div class="highlight-box">
            <p>
              Pro tip: When updating state based on the previous state, use the functional update pattern: setCount(prevCount => prevCount + 1). This ensures you're working with the most current state value.
            </p>
          </div>

          <h2>useEffect: Handling Side Effects</h2>
          <p>
            The <code>useEffect</code> hook handles side effects in functional components. It combines the functionality of <code>componentDidMount</code>, <code>componentDidUpdate</code>, and <code>componentWillUnmount</code> from class components.
          </p>

          <div class="code-block">
            <pre>
import React, { useState, useEffect } from 'react';

function UserProfile({ userId }) {
  const [user, setUser] = useState(null);
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    async function fetchUser() {
      setLoading(true);
      try {
        const response = await fetch(`/api/users/${userId}`);
        const userData = await response.json();
        setUser(userData);
      } catch (error) {
        console.error('Error fetching user:', error);
      } finally {
        setLoading(false);
      }
    }

    fetchUser();
  }, [userId]); // Dependency array

  if (loading) return &lt;div&gt;Loading...&lt;/div&gt;;
  if (!user) return &lt;div&gt;User not found&lt;/div&gt;;

  return &lt;div&gt;Welcome, {user.name}!&lt;/div&gt;;
}
            </pre>
          </div>

          <h3>useEffect Cleanup</h3>
          <p>
            For effects that need cleanup (like subscriptions or timers), return a cleanup function from your effect:
          </p>

          <div class="code-block">
            <pre>
useEffect(() => {
  const timer = setInterval(() => {
    console.log('Timer tick');
  }, 1000);

  // Cleanup function
  return () => {
    clearInterval(timer);
  };
}, []); // Empty dependency array means this runs once
            </pre>
          </div>

          <h2>useContext: Consuming Context</h2>
          <p>
            The <code>useContext</code> hook provides a clean way to consume context values without nesting. It's particularly useful for accessing global state like themes, authentication, or user preferences.
          </p>

          <div class="code-block">
            <pre>
import React, { createContext, useContext, useState } from 'react';

const ThemeContext = createContext();

function App() {
  const [theme, setTheme] = useState('light');

  return (
    &lt;ThemeContext.Provider value={{ theme, setTheme }}&gt;
      &lt;Header /&gt;
      &lt;Main /&gt;
    &lt;/ThemeContext.Provider&gt;
  );
}

function Header() {
  const { theme, setTheme } = useContext(ThemeContext);

  return (
    &lt;header className={theme}&gt;
      &lt;button onClick={() =&gt; setTheme(theme === 'light' ? 'dark' : 'light')}&gt;
        Toggle Theme
      &lt;/button&gt;
    &lt;/header&gt;
  );
}
            </pre>
          </div>

          <h2>useReducer: Complex State Management</h2>
          <p>
            For more complex state logic, <code>useReducer</code> is often preferable to <code>useState</code>. It's especially useful when you have multiple sub-values or when the next state depends on the previous one.
          </p>

          <div class="code-block">
            <pre>
import React, { useReducer } from 'react';

const initialState = { count: 0 };

function reducer(state, action) {
  switch (action.type) {
    case 'increment':
      return { count: state.count + 1 };
    case 'decrement':
      return { count: state.count - 1 };
    case 'reset':
      return initialState;
    default:
      throw new Error();
  }
}

function Counter() {
  const [state, dispatch] = useReducer(reducer, initialState);

  return (
    &lt;div&gt;
      Count: {state.count}
      &lt;button onClick={() =&gt; dispatch({ type: 'increment' })}&gt;+&lt;/button&gt;
      &lt;button onClick={() =&gt; dispatch({ type: 'decrement' })}&gt;-&lt;/button&gt;
      &lt;button onClick={() =&gt; dispatch({ type: 'reset' })}&gt;Reset&lt;/button&gt;
    &lt;/div&gt;
  );
}
            </pre>
          </div>

          <h2>Custom Hooks: Reusable Logic</h2>
          <p>
            Custom hooks allow you to extract component logic into reusable functions. They're just JavaScript functions that start with "use" and can call other hooks.
          </p>

          <div class="code-block">
            <pre>
import { useState, useEffect } from 'react';

// Custom hook for fetching data
function useFetch(url) {
  const [data, setData] = useState(null);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState(null);

  useEffect(() => {
    async function fetchData() {
      try {
        setLoading(true);
        const response = await fetch(url);
        const result = await response.json();
        setData(result);
      } catch (err) {
        setError(err);
      } finally {
        setLoading(false);
      }
    }

    fetchData();
  }, [url]);

  return { data, loading, error };
}

// Using the custom hook
function UserList() {
  const { data: users, loading, error } = useFetch('/api/users');

  if (loading) return &lt;div&gt;Loading...&lt;/div&gt;;
  if (error) return &lt;div&gt;Error: {error.message}&lt;/div&gt;;

  return (
    &lt;ul&gt;
      {users.map(user =&gt; (
        &lt;li key={user.id}&gt;{user.name}&lt;/li&gt;
      ))}
    &lt;/ul&gt;
  );
}
            </pre>
          </div>

          <h2>Performance Optimization Hooks</h2>

          <h3>useMemo</h3>
          <p>
            <code>useMemo</code> memoizes expensive calculations and only recalculates when dependencies change:
          </p>

          <div class="code-block">
            <pre>
import React, { useMemo } from 'react';

function ExpensiveComponent({ items, filter }) {
  const filteredItems = useMemo(() => {
    return items.filter(item =&gt; item.category === filter);
  }, [items, filter]);

  return (
    &lt;ul&gt;
      {filteredItems.map(item =&gt; (
        &lt;li key={item.id}&gt;{item.name}&lt;/li&gt;
      ))}
    &lt;/ul&gt;
  );
}
            </pre>
          </div>

          <h3>useCallback</h3>
          <p>
            <code>useCallback</code> memoizes functions to prevent unnecessary re-renders of child components:
          </p>

          <div class="code-block">
            <pre>
import React, { useCallback, useState } from 'react';

function Parent() {
  const [count, setCount] = useState(0);
  const [name, setName] = useState('');

  const handleClick = useCallback(() => {
    setCount(count + 1);
  }, [count]);

  return (
    &lt;div&gt;
      &lt;input value={name} onChange={(e) =&gt; setName(e.target.value)} /&gt;
      &lt;Child onClick={handleClick} /&gt;
    &lt;/div&gt;
  );
}
            </pre>
          </div>

          <div class="highlight-box">
            <p>
              Remember: useMemo and useCallback are optimization tools. Don't use them everywhere—only when you have proven performance issues or expensive calculations.
            </p>
          </div>

          <h2>Best Practices</h2>

          <h3>1. Follow the Rules of Hooks</h3>
          <ul>
            <li>Always call hooks at the top level of your function</li>
            <li>Never call hooks inside loops, conditions, or nested functions</li>
            <li>Use the <a href="https://www.npmjs.com/package/eslint-plugin-react-hooks" target="_blank">ESLint plugin</a> to enforce these rules</li>
          </ul>

          <h3>2. Optimize Dependencies</h3>
          <ul>
            <li>Be careful with object and function dependencies in useEffect</li>
            <li>Use useCallback and useMemo to stabilize references</li>
            <li>Consider splitting effects with different dependencies</li>
          </ul>

          <h3>3. Custom Hooks for Reusability</h3>
          <ul>
            <li>Extract common logic into custom hooks</li>
            <li>Make custom hooks testable and composable</li>
            <li>Use descriptive names that start with "use"</li>
          </ul>

          <h2>Common Pitfalls</h2>

          <h3>Stale Closures</h3>
          <p>
            Be aware of stale closures when using useEffect with state variables:
          </p>

          <div class="code-block">
            <pre>
// ❌ Problematic - stale closure
useEffect(() => {
  const timer = setInterval(() => {
    setCount(count + 1); // This might use stale count value
  }, 1000);
  return () => clearInterval(timer);
}, []); // Missing count dependency

// ✅ Better - functional update
useEffect(() => {
  const timer = setInterval(() => {
    setCount(prevCount => prevCount + 1);
  }, 1000);
  return () => clearInterval(timer);
}, []); // No dependencies needed
            </pre>
          </div>

          <h2>Conclusion</h2>
          <p>
            React Hooks have fundamentally changed how we write React applications. They enable cleaner, more reusable code and make it easier to share stateful logic between components. By mastering these patterns and following best practices, you'll be able to build more maintainable and performant React applications.
          </p>

          <p>
            The key to becoming proficient with hooks is practice. Start by converting existing class components to functional components with hooks, create custom hooks for common patterns in your applications, and always keep performance considerations in mind.
          </p>

          <p>
            For more advanced patterns and the latest React updates, check out the official <a href="https://react.dev/" target="_blank">React documentation</a> and stay connected with the React community.
          </p>
        </div>
      </article>

      <!-- Call to Action -->
      <div class="cta-section fade-in">
        <h3>Need Help Building React Applications?</h3>
        <p>
          Let's discuss how we can help you build modern, efficient React applications using the latest best practices and patterns.
        </p>
        <a href="contact.html" class="cta-button">
          <i class="bi bi-code-slash me-2"></i>
          Start Your Project
        </a>
      </div>
    </div>

    <script>
      // Theme Toggle Functionality
      function toggleTheme() {
        try {
          const body = document.body;
          if (!body) return;
          
          const currentTheme = body.getAttribute('data-theme');
          const newTheme = currentTheme === 'light' ? 'dark' : 'light';
          
          body.setAttribute('data-theme', newTheme);
          localStorage.setItem('theme', newTheme);
          
          if (body.style) {
            body.style.transition = 'all 0.3s ease';
            setTimeout(() => {
              if (body.style) {
                body.style.transition = '';
              }
            }, 300);
          }
        } catch (error) {
          console.error('Error toggling theme:', error);
        }
      }

      // Load saved theme on page load
      document.addEventListener('DOMContentLoaded', function() {
        try {
          const savedTheme = localStorage.getItem('theme') || 'dark';
          if (document.body) {
            document.body.setAttribute('data-theme', savedTheme);
          }
          
          // Add fade-in animations
          const fadeElements = document.querySelectorAll('.fade-in');
          fadeElements.forEach((el, index) => {
            if (el && el.style) {
              el.style.animationDelay = `${index * 0.2}s`;
            }
          });
        } catch (error) {
          console.error('Error during initialization:', error);
        }
      });

      // Listen for theme changes from other tabs
      window.addEventListener('storage', function(e) {
        try {
          if (e.key === 'theme' && document.body) {
            document.body.setAttribute('data-theme', e.newValue || 'dark');
          }
        } catch (error) {
          console.error('Error in storage handler:', error);
        }
      });

      // Keyboard support for theme toggle
      document.addEventListener('keydown', function(e) {
        try {
          if (e.ctrlKey && e.key === 'l') {
            e.preventDefault();
            toggleTheme();
          }
        } catch (error) {
          console.error('Error in keyboard handler:', error);
        }
      });

      // Theme toggle accessibility
      const themeToggle = document.querySelector('.theme-toggle');
      if (themeToggle) {
        themeToggle.addEventListener('keydown', function(e) {
          try {
            if (e.key === 'Enter' || e.key === ' ') {
              e.preventDefault();
              toggleTheme();
            }
          } catch (error) {
            console.error('Error in theme toggle handler:', error);
          }
        });
      }

      console.log('📝 React Hooks blog post loaded successfully!');
    </script>
  </body>
</html>